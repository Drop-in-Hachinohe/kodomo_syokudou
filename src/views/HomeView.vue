<script setup lang="ts">
import { createClient } from 'microcms-js-sdk';
import type { GalleriesResponse, GalleryResponse } from '@/types';
import Gallery from '@/models/gallery';
import { ref } from 'vue';

import GalleriesCarousel from '@/components/GalleriesCarousel.vue';
import GoogleForm from '@/components/GoogleForm.vue';

const client = createClient({
  serviceDomain: import.meta.env.VITE_MICRO_CMS_SERVICE_DOMAIN,
  apiKey: import.meta.env.VITE_MICRO_CMS_API_KEY,
});

const galleries = ref<Gallery[]>([])

// ã‚®ãƒ£ãƒ©ãƒªãƒ¼ä¸€è¦§ (id, title, thumbnail) ã‚’å–å¾—
client
  .get<GalleriesResponse>({
    endpoint: 'galleries',
    queries: {
      fields: 'id,title,thumbnail',
    },
  })
  .then((res: GalleriesResponse) => {
    galleries.value = res.contents.map((gallery: GalleryResponse) => Gallery.fromResponse(gallery))
  });
</script>

<template>
  <div class="kv">
    <div class="kv_main">
      <img src="/images/main_title.png" class="kv_title_img" />
      <a href="#open" class="kv_menu kv_menu_1">
        <img src="/images/menu_01.png" />
      </a>
      <a href="#information" class="kv_menu kv_menu_2">
        <img src="/images/menu_02.png" />
      </a>
      <a href="#price" class="kv_menu kv_menu_3">
        <img src="/images/menu_03.png" />
      </a>
      <a href="#reserve" class="kv_menu kv_menu_4">
        <img src="/images/menu_04.png" />
      </a>
    </div>
  </div>
  <main>
    <section id="about" class="pt-16 bg_wood_light">
      <div class="section">
        <div class="main_message p-8 pt-14 md:p-16 md:pt-28">
          <img src="/images/news_ribbon.png" class="main_message_ribbon" alt="ãŠçŸ¥ã‚‰ã›" />
          <p class="font-kei text-4xl mb-8 text-center">2023å¹´10æœˆ9æ—¥ (æœˆ)</p>
          <p class="font-kei text-3xl mb-4 text-center">
            <span class="text-4xl">ãŠä¼‘ã¿ã„ãŸã—ã¾ã™ğŸ™</span>
          </p>
          <!-- <p class="font-kei text-4xl mb-4 text-center">100ã‚³</p>
          <p class="font-kei text-3xl text-center">
            <span class="color-pink text-4xl">ç„¡æ–™</span>é…å¸ƒã—ã¾ã™ï¼
          </p> -->
          <p class="text-lg main_message_desc mt-8 pt-8">
            10æœˆ9æ—¥ (æœˆ) ã¯å‰æ—¥ã®é®«ãƒ•ã‚§ã‚¹ã‚¤ãƒ™ãƒ³ãƒˆå‚åŠ ã®ç‚ºã€å­ã©ã‚‚é£Ÿå ‚ã¯ãŠä¼‘ã¿ã„ãŸã—ã¾ã™ã€‚<br />
            æ¬¡å›10æœˆ16æ—¥ (æœˆ) ã«ãŠè¶Šã—ãã ã•ã„ã€‚
          </p>
          <!-- <p class="text-lg font-bold mt-4">ç‰¹å…¸</p>
          <p class="text-base">
            é£Ÿå ‚å†…ã§ã”é£²é£Ÿã®æ–¹ã«ã¯ãŠå‘³å™Œã¨é§„è“å­é¡ã‚’ã”ç”¨æ„ã—ã¦ãŠå¾…ã¡ã—ã¦ãŠã‚Šã¾ã™ã€‚
            æ˜¯éãŠè¶Šã—ãã ã•ã„ï¼
          </p> -->
        </div>
      </div>
      <div class="section">
        <div class="main_message p-8 pt-14 md:p-16 md:pt-28">
          <img src="/images/top_ribbon.png" class="main_message_ribbon" />
          <header class="font-kei text-3xl">
            ã•ã‚é§…ã‹ã‚‰ã™ãã®ã‚«ãƒ•ã‚§ Airã«ã¦ã€ã¿ã‚“ãªãŒç¬‘é¡”ã«ãªã‚‹å­ã©ã‚‚é£Ÿå ‚ãŒå§‹ã¾ã‚Šã¾ã™ï¼
          </header>
          <p class="color-pink font-kei text-lg text-center mt-8">
            \å…ƒæ°—ã„ã£ã±ã„ã‚ªãƒ¼ãƒ—ãƒ³ï¼ /
          </p>
          <p class="color-pink font-kei text-4xl text-center mt-4">
            æ¯é€±æœˆæ›œæ—¥ 16:30~19:30
          </p>
          <p class="text-lg main_message_desc mt-8 pt-8">
            é®«ã®ã¿ãªã•ã‚“ã¨å­ä¾›ãŸã¡ã®ç¬‘é¡”ã¨ãŠãªã‹ã„ã£ã±ã„ã®ãŠæ‰‹ä¼ã„ã‚’ã—ãŸã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚
            å­ä¾›ã¯ã‚‚ã¡ã‚ã‚“ã€ãŠã¨ãªã®ã¿ãªã•ã‚“ã®å±…å ´æ‰€ã«ãªã‚ŒãŸã‚‰ã†ã‚Œã—ã„ã§ã™ã€‚
          </p>
        </div>
      </div>

      <!-- ã‚®ãƒ£ãƒ©ãƒªãƒ¼ -->
      <div class="section">
        <div class="main_message p-8 pt-14 md:p-16 md:pt-28">
          <img src="/images/galleries_ribbon.png" class="main_message_ribbon" />
          <GalleriesCarousel :galleries="galleries" />
        </div>
      </div>

      <img src="/images/onigiri_kei.png" class="section_kei down" />
    </section>
    <section id="open" class="section">
      <div class="text-center text-2xl">
        <h2 class="section_title">é–‹å‚¬æƒ…å ±</h2>
      </div>
      <p class="color-brown font-kei text-3xl text-center mt-8">æ¯é€±æœˆæ›œæ—¥ 16:30~19:30</p>
      <p class="color-pink font-kei text-2xl text-center mt-2">ã‚ªãƒ¼ãƒ—ãƒ³ï¼</p>
      <div id="information" class="information pt-16">
        <div class="information_desc">
          <p class="color-green font-kei text-base">é§…ã‹ã‚‰ã™ããã°ã®ãƒ©ãƒ³ãƒãŒäººæ°—ã®ãŠåº—</p>
          <p class="color-green font-kei text-3xl">ã‚«ãƒ•ã‚§ air</p>
          <p class="text-lg font-bold mt-4">ä½æ‰€</p>
          <p class="text-base">é’æ£®çœŒå…«æˆ¸å¸‚é®«ç”ºæŒè¶Šæ²¢4-15</p>
          <p class="text-base"> (å¶‹ç”°ç—…é™¢å‘ã‹ã„)</p>
          <p class="text-lg font-bold mt-4">é§è»Šå ´</p>
          <p class="text-base">
            <a
              href="https://goo.gl/maps/GqDXQPoWVHABCRQF9?coh=178572&entry=tt"
              target="_blank"
              rel="noopener noreferrer"
              class="color-blue hover:underline"
            >å…ƒé’æ£®éŠ€è¡Œé®«æ´¾å‡ºæ‰€</a>
          </p>
          <p class="text-lg font-bold mt-4">é€£çµ¡å…ˆ</p>
          <p class="text-base">090-3962-4521</p>
        </div>
        <iframe class="information_map" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2117.186302271447!2d141.5537772114633!3d40.53175109919847!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x5f9b53ea8547a5f7%3A0xde5dacc1cce13f76!2z44CSMDMxLTA4NDEg6Z2S5qOu55yM5YWr5oi45biC6a6r55S65oyB6LaK5rKi77yU4oiS77yR77yV!5e0!3m2!1sja!2sjp!4v1682218817091!5m2!1sja!2sjp" width="600" height="450" style="border:0;" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
      </div>
      <div id="price" class="price_wrapper pt-16">
        <div class="price p-12">
          <ul class="price_inner">
            <li class="price_item font-kei text-3xl p-2">å°ä¸­å­¦ç”Ÿ :	ç„¡æ–™</li>
            <li class="price_item font-kei text-3xl p-2">é«˜æ ¡ç”Ÿã€€ :	300å††</li>
            <li class="price_item font-kei text-3xl p-2">å¤§äººã€€ã€€ :	500å††</li>
          </ul>
        </div>
      </div>
    </section>
    <section id="wish" class="bg_wood_light note">
      <img src="/images/onigiri_kei.png" class="section_kei up" />
      <div class="section">
        <div class="text-center text-2xl">
          <h2 class="section_title">å­ã©ã‚‚é£Ÿå ‚ã‹ã‚‰ã®ãŠé¡˜ã„</h2>
        </div>
        <div class="note_list mt-16">
          <div class="note_item note_child children">
            <img src="/images/tape_01.png" class="note_item_deco up" />
            <header class="text-center text-xl">
              <span class="marker-pink font-bold">ã“ã©ã‚‚ãŸã¡ã¸</span>
            </header>
            <p class="text-lg  mt-6">
              ã‹ãªã‚‰ãš ãŠã†ã¡ã®äººã«ã¤ãŸãˆã¦ã‹ã‚‰ãã¦ãƒ!<br>
              ãƒ©ãƒ³ãƒ‰ã‚»ãƒ«ã¯ãŠã„ã¦ã‹ã‚‰ãã¦ãã ã•ã„ã€‚
            </p>
            <img src="/images/tape_01.png" class="note_item_deco down" />
          </div>
          <div class="note_item note_child guardian mt-16 sm:mt-0">
            <img src="/images/tape_02.png" class="note_item_deco up" />
            <header class="text-center text-xl">
              <span class="marker-green font-bold">ä¿è­·è€…ã®æ–¹ã¸</span>
            </header>
            <p class="text-lg mt-6">
              å­ã©ã‚‚ã ã‘ã§æ¥ã‚‹ãŠå­ã•ã‚“ã¯18æ™‚ã«ãŠå®¶ã«å¸°å®…ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚<br>
              18æ™‚ã™ãã‚‹å ´åˆã¯ãŠè¿ãˆã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚
            </p>
            <img src="/images/tape_02.png" class="note_item_deco down" />
          </div>
        </div>
        <div class="note_item all mt-16">
          <img src="/images/tape_03.png" class="note_item_deco up all" />
          <header class="text-center text-2xl">
            <span class="marker-blue font-bold">ã¿ãªã•ã‚“ã¸</span>
          </header>
          <p class="text-xl mt-6">
            <span class="marker-pink font-bold">ãŸã„ã¡ã‚‡ã†ã®ã‚ã‚‹ã„äººã¯ã“ã‚“ã©ãã¦ãã ã•ã„</span>
          </p>
          <p class="text-sm">
            ï¼ˆã­ã¤ãƒ»ã›ããƒ»ãŠãªã‹ãŒã„ãŸã„ ãªã©ï¼‰
          </p>
          <p class="text-xl mt-6">
            <span class="marker-pink font-bold">ãŸã¹ã‚‚ã®ã®ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼ã®ã‚ã‚‹æ–¹</span>
          </p>
          <p class="text-base">
            é£Ÿå ‚ã§ã¯ç‰¹åˆ¥ãªå¯¾å¿œã‚’ã—ã¦ã„ã¾ã›ã‚“ã€‚<br>
            æœ¬äººã¾ãŸã¯ä¿è­·è€…ãŒæ°—ã‚’ã¤ã‘ã¦ãŠé£Ÿäº‹ãŠã­ãŒã„ã—ã¾ã™ã€‚
          </p>
          <p class="color-blue text-base mt-8 mb-8 font-bold">
            æ··é›‘æ™‚ã¯ä¿‚ã‚¹ã‚¿ãƒƒãƒ•ã®æŒ‡ç¤ºã«å¾“ã£ã¦ãã ã•ã„ã€‚<br />
            ã¾ãŸã€ãã®éš›ã¯å­ä¾›ãŒå„ªå…ˆã«ãªã‚Šã¾ã™ã€‚å¤§äººã®æ–¹ã¯ãŠå¾…ãŸã›ã™ã‚‹ã“ã¨ãŒã”ã–ã„ã¾ã™ã€‚<br />
            ã”ç†è§£ã®ã»ã©ã€ã‚ˆã‚ã—ããŠé¡˜ã„ã„ãŸã—ã¾ã™ã€‚
          </p>
          <header class="text-center text-2xl">
            <span class="marker-blue font-bold">ãŠè»Šã§ã”æ¥åº—ã•ã‚Œã‚‹æ–¹ã¸</span>
          </header>
          <p class="text-xl mt-6">
            <span class="marker-pink font-bold">è·¯ä¸Šé§è»Šã¯è¡Œã‚ãªã„ã§ãã ã•ã„</span>
          </p>
          <p class="text-base">
            é§è»Šå ´ã¯å…ƒé’æ£®éŠ€è¡Œé®«æ´¾å‡ºæ‰€ã®æ•·åœ°ãŒåˆ©ç”¨å¯èƒ½ã§ã™ã€‚
          </p>
          <p class="text-xl mt-6">
            <span class="marker-pink font-bold">ã”æ¥åº—ã®éš›ã¯å¿…ãšæ¨ªæ–­æ­©é“ã‚’æ¸¡ã£ã¦ãã¦ãã ã•ã„ã€‚</span>
          </p>
          <img src="/images/tape_03.png" class="note_item_deco down all" />
        </div>
      </div>
    </section>
    <!-- äºˆç´„ -->
    <section id="reserve" class="section">
      <div class="text-center text-2xl">
        <h2 class="section_title">ã”äºˆç´„</h2>
      </div>
      <p class="text-lg font-bold mt-16 text-center">
        ã”äºˆç´„ã¯ãŠé›»è©±(090-3962-4521)<br>
        ã¾ãŸã¯ä¸‹è¨˜ã®äºˆç´„ãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰ãŠé¡˜ã„ã„ãŸã—ã¾ã™
      </p>
      <!-- Google Form åŸ‹ã‚è¾¼ã¿ -->
      <GoogleForm />
    </section>  
  </main>
</template>

<style lang="scss" scoped>
.kv {
  background-image: url('/images/bg_wood_dark.jpg');
   padding: 50px 20px 50px;
  @media (min-width: 640px) {
     padding: 50px 10% 50px;
  }
  padding: 50px 10% 50px;
  display: flex;
  justify-content: center;
  align-items: center;
  &_main {
    position: relative;
    width: 100%;
    @media (min-width: 640px) {
       width: 60%;
    }
  }
  &_title_img {
    width:  100%;
    margin-bottom: 20px;
    @media (min-width: 640px) {
      margin-bottom: 0;
    }
  }
  &_menu {
    display: inline-block;
    width: 50%;
    @media (min-width: 640px) {
      width: 45%;
      position: absolute;
    }
    &:hover img {
      animation: gurun .3s;
      transform: scale(1.2);
    }
    &_1 {
      animation: 3s fuwafuwa2 infinite;
      @media (min-width: 640px) {
        top: 0;
        left: -40%;
      }
    }
    &_2 {
      animation: 3s fuwafuwa infinite;
      @media (min-width: 640px) {
        top: 0;
        right: -40%;
      }
    }
    &_3 {
      animation: 3s fuwafuwa infinite;
      @media (min-width: 640px) {
        bottom: 0;
        left: -40%;
      }
    }
    &_4 {
      animation: 3s fuwafuwa2 infinite;
      @media (min-width: 640px) {
        bottom: 0;
        right: -40%;
      }
    }
  }
}
@keyframes fuwafuwa {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-20px);
  }
}
@keyframes fuwafuwa2 {
  0% {
   transform: translateY(-2px);
  }
  20% {
    transform: translateY(0);
  }
  70% {
    transform: translateY(-20px);
  }
  100% {
    transform: translateY(-2px);
  }
}

@keyframes gurun {
  0% {
      transform: rotate(0deg);
  }
  100% {
      transform: rotate(360deg) scale(1.2);
  }
}
.main {
  &_message {
    background-color: white;
    border-radius: 10px;
    position: relative;
    &_ribbon {
      width: 100%;
      left: 50%;
      transform: translate(-50%, 0);
      top: -30px;
      @media (min-width: 640px) {
        width: 60%;
        position: absolute;
        top: -60px;
      }
    }
    &_desc {
      border-top: solid 1px var(--primary-pink);
    }
  }
}
.information {
  display: block;
  @media (min-width: 640px) {
    display: flex;
  }
  &_desc {
    width: 100%;
    @media (min-width: 640px) {
       width: 50%;
    }
  }
  &_map {
    width: 100%;
    @media (min-width: 640px) {
       width: 50%;
    }
  }
}
.price {
  display: flex;
  justify-content: center;
  align-items: center;
  &_wrapper {
    display: flex;
    justify-content: center;
    align-items: center;
  }
  &_inner {
    display: inline-block;
  }
  &_item {
    color: white;
  }
  width: 500px;
  background: url('/images/bg_wood_dark.jpg') 600px;
}
.note {
  z-index: -2;
  &_list {
    @media (min-width: 640px) {
      display: flex;
      gap: 6%;
    }
  }
  &_child {
     width: 100%;
    @media (min-width: 640px) {
      width: 47%;
    }
  }
  &_item {
    background-color: white;
    padding: 45px 30px;
    position: relative;
    &::before {
      content: "";
      position: absolute;
      display: block;
      width: 100%;
      height: 100%;
      transform: rotate(5deg);
      transform: rotate(3deg) translate(-30px, -45px);
      z-index: -1;
    }
    &_deco {
      position: absolute;
      width: 30%;
      transform: rotate(-15deg);
      filter: drop-shadow(1px 1px 2px rgba(0, 0, 0, .2));
      &.all {
        width: 15%;
        &.up {
          left: -2%;
        }
        &.down {
          right: -2%;
        }
      }
      &.up {
        top: 0;
        left: -5%;
      }
      &.down {
        bottom: 0;
        right: -5%;
      }
    }
    &.children {
      &::before {
        background-color: var(--primary-pink);
      }
    }
    &.guardian {
       &::before {
        background-color: var(--primary-green);
      }
    }
    &.all {
      &::before {
        background-color: var(--primary-blue);
      }
    }
  }
}
</style>
